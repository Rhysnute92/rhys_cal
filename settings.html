<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Fitness Dashboard</title>
  <link rel="stylesheet" href="shared.css">
  <link rel="stylesheet" href="dashboard.css">
  <link referrerpolicy="stylesheet" href="register.css">
  <script src="settings.js"></script>
  <script src="state.js"></script>
  <link rel="icon" type="image/png" href="rhys_logo.png">
  <link rel="icon" type="image/x-icon" href="rhys_favicon.png">
  <link rel="apple-touch-icon" sizes="180x180" href="apple-touch-icon.png">
  <link rel="manifest" href="manifest.json">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
<header class="app-header">
  <div class="header-content">
    <h1>Settings</h1>
<nav class="settings-nav">
    <a href="index.html" class="nav-link">â† Dashboard</a>
    
    <div id="auth-zone">
        <a href="login.html" class="secondary-link">Login</a>
    </div>
</nav>
  </div>
</header>

<div class="card settings-tile logout-danger" onclick="handleLogout()">
    <span class="gear-icon">ğŸšª</span>
    <h3>Logout</h3>
    <p>Sign out</p>
</div>

<div class="settings-card">
    <label for="sizeSlider">Adjust Tile Size</label>
    <input type="range" id="sizeSlider" min="120" max="250" value="160" oninput="changeTileSize(this.value)">
    <span id="sizeValue">160px</span>
</div>

<div class="card settings-container">
    <label>Appearance</label>
    <button class="btn-primary" onclick="toggleDarkMode()" id="darkBtn">
        ğŸŒ™ Switch to Dark Mode
    </button>
</div>

<div class="container">
  <section class="card">
    <h3>Daily Macro Goals</h3>
    <div class="input-group">
      <label>Calories</label>
      <input type="number" id="goalKcal" placeholder="2000">
    </div>
    <div class="macro-grid">
      <div><label>P</label><input type="number" id="goalP" placeholder="Update protein"></div>
      <div><label>C</label><input type="number" id="goalC" placeholder="Update calories"></div>
      <div><label>F</label><input type="number" id="goalF" placeholder="Update fats"></div>
    </div>
    <button onclick="saveGoals()" class="btn-primary">Save Goals</button>
  </section>

  <section class="card">
    <h3>Manage Dashboard</h3>
    <button onclick="resetTiles()" class="btn-clear">Reset Tiles to Default</button>
  </section>

  <section class="card">
    <h3>Data Management</h3>
    <p>Download your history as a spreadsheet file.</p>
    <button onclick="exportDataToCSV()" class="btn-primary">Export All Data (CSV)</button>
  </section>

  <section class="card danger-zone">
    <h3>Danger Zone</h3>
    <p>This will permanently erase all your logs, goals, and history. This cannot be undone.</p>
    <button onclick="confirmWipeData()" class="btn-delete-all">Clear All App Data</button>
</section>
</div>
</body>
</html>