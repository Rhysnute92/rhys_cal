<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Food Diary</title>

<link rel="manifest" href="manifest.json">
<link rel="icon" href="rhys_logo.png">

<link rel="stylesheet" href="shared.css">
<link rel="stylesheet" href="log.css">

<script src="https://cdn.jsdelivr.net/npm/quagga@0.12.1/dist/quagga.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>

<header class="app-header">
    <h1>Food Diary</h1>
</header>

<div class="container">

<button class="btn-primary full" onclick="startCamera()">ðŸ“¸ Scan Barcode</button>

<!-- scanner -->
<div id="scannerOverlay" class="scanner-overlay">
    <div id="interactive" class="viewport"></div>
    <button onclick="stopScanner()" class="btn-danger">Cancel</button>
</div>

<!-- goals -->
<div class="card">
<h3>Macro Goals</h3>
<input id="goalP" type="number" placeholder="Protein">
<input id="goalC" type="number" placeholder="Carbs">
<input id="goalF" type="number" placeholder="Fat">
<button onclick="saveGoals()">Save Goals</button>
</div>

<!-- manual entry -->
<div id="entryForm" class="card hidden">
<input id="foodName" placeholder="Food name">

<div class="grid">
<input id="calories" type="number" placeholder="Calories">
<input id="protein" type="number" placeholder="Protein">
<input id="carbs" type="number" placeholder="Carbs">
<input id="fat" type="number" placeholder="Fat">
</div>

<select id="mealType">
<option>Breakfast</option>
<option>Lunch</option>
<option>Dinner</option>
<option>Snacks</option>
<option>Drinks</option>
</select>

<button onclick="saveEntry()">Add</button>
</div>

<!-- macro progress -->
<div class="card">
<h3>Macros</h3>
<div id="macroText"></div>
<canvas id="macroPie"></canvas>
</div>

<!-- log -->
<div class="card">
<h3>Daily Log</h3>
<input type="date" id="datePicker">
<div id="logList"></div>
</div>

<!-- weekly chart -->
<div class="card">
<h3>Last 7 Days</h3>
<canvas id="weeklyChart"></canvas>
</div>

</div>

<script type="module" src="log.js"></script>
<script type="module" src="state.js"></script>
</body>
</html>
