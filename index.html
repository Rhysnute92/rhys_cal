<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fitness Dashboard</title>
    <link rel="stylesheet" href="dashboard.css">
    <link rel="stylesheet"  href="shared.css">
    <link rel="icon" type="image/x-icon" href="rhys_favicon.png">
    <link rel="icon" type="image/png" href="rhys_logo.png">
    <link rel="apple-touch-icon" sizes="180x180" href="apple-touch-icon.png">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>

<section id="quickStartCard" class="card quickstart-card">
    <div class="quickstart-header">
        <h3>Welcome, Rhys! üöÄ</h3>
        <button class="close-btn" onclick="dismissQuickStart()">‚úï</button>
    </div>

    <p class="quickstart-text">
        Let's get you set up for success. Follow these steps:
    </p>

    <div class="step-list">
        <div class="step-item">
            <span class="step-num">1</span>
            <div>
                <strong>Log a Meal:</strong>
                Go to the <a href="log.html">Food</a> tab and search for your breakfast.
            </div>
        </div>

        <div class="step-item">
            <span class="step-num">2</span>
            <div>
                <strong>Hit the Gym:</strong>
                Go to <a href="training.html">Gym</a> and log your first set.
            </div>
        </div>

        <div class="step-item">
            <span class="step-num">3</span>
            <div>
                <strong>Check Progress:</strong>
                Visit <a href="database.html">Habits</a> to see your Muscle Map.
            </div>
        </div>
    </div>
</section>

<header class="app-header">
    <div class="header-content">
        <img src="rhys_logo.png" class="header-logo">
        <h1>My Fitness Tracker</h1>

        <button id="themeToggle" onclick="toggleDarkMode()">Dark Mode</button>
        <span id="offlineStatus">üì¥ Offline Mode</span>
    </div>
</header>

<nav class="icon-nav">
    <a href="index.html" class="nav-item">
        <img src="dashboard.png">
        <span>Home</span>
    </a>
    <a href="log.html" class="nav-item">
        <img src="diary.png">
        <span>Food Diary</span>
    </a>
    <a href="database.html" class="nav-item">
        <img src="history.png">
        <span>Habits</span>
    </a>
    <a href="training.html" class="nav-item">
        <img src="training.png">
        <span>Training</span>
    </a>
</nav>

<section class="card training-toggle-card">
    <div class="flex-between">
        <strong>Training Day?</strong>
        <label class="switch-small">
            <input type="checkbox" id="trainingMode" onchange="toggleTrainingMode()">
            <span class="slider-toggle"></span>
        </label>
    </div>
    <p id="trainingStatusText" class="hint">Rest Day (1500 kcal)</p>
</section>

<section id="restTimerContainer" class="card rest-timer hidden">
    <div class="rest-title">REST TIMER</div>
    <div id="timerDisplay" class="timer-display">01:30</div>

    <div class="timer-controls">
        <button class="tag-btn" onclick="startTimer()">‚ñ∂ Start</button>
        <button class="tag-btn reset-btn" onclick="resetTimer()">üîÑ Reset</button>
    </div>
</section>

<section id="home" class="tab-content">
    <h2 class="section-title">Today's Overview</h2>

    <div class="dashboard-grid">
        <div class="card grid-tile" onclick="switchTab('log')">
            <div class="tile-header"><h4>Calories</h4><span>üî•</span></div>
            <div id="dashCals" class="tile-value">0</div>
            <div class="progress-bg"><div id="cals-bar-dash" class="progress-fill"></div></div>
            <small id="calGoalText">Remaining: --</small>
        </div>

        <div class="card grid-tile" onclick="switchTab('training')">
            <div class="tile-header"><h4>Steps</h4><span>üë£</span></div>
            <div id="dashSteps" class="tile-value">0</div>
            <div class="progress-bg"><div id="steps-bar-dash" class="progress-fill"></div></div>
            <small>Goal: 1,000</small>
        </div>

        <div class="card grid-tile" onclick="switchTab('habits')">
            <div class="tile-header"><h4>Weight</h4><span>‚öñÔ∏è</span></div>
            <div id="dashWeightDisplay" class="tile-value">-- kg</div>
            <div id="weightTrend" class="trend-text">Trend: Stable</div>
        </div>

    <div class="card grid-tile">
        <h4>Weight History</h4>
        <div class="unit-toggle">
            <button class="toggle-btn" onclick="setWeightUnit('kg')">KG</button>
        </div>
    </div>
    </div>
    <div class="chart-container">
        <canvas id="weightChart"></canvas>
    </div>
 </section>

<section id="training" class="tab-content hidden">

    <div id="sessionTimerDisplay" class="card timer-banner" style="display: none;">
        <div class="timer-flex">
            <span class="timer-icon">‚è±Ô∏è</span>
            <h3 id="sessionTimerText">Session: 00:00</h3>
            <button class="stop-btn" onclick="finishWorkout()">Finish</button>
        </div>
    </div>

    <div id="restTimerDisplay" class="card rest-timer-overlay" style="display: none;">
        <div class="timer-controls">
            <button class="adjust-btn" onclick="adjustRestTime(-30)">-30s</button>
            <div class="timer-main">
                <h2 id="restTimerText">Rest: 1:00</h2>
                <small>Next Set Soon</small>
            </div>
            <button class="adjust-btn" onclick="adjustRestTime(30)">+30s</button>
        </div>
        <div class="timer-actions">
            <button class="reset-btn" onclick="resetRestTimer()">Reset (60s)</button>
            <button class="skip-btn" onclick="completeRest()">Skip Rest</button>
        </div>
    </div>

    <div class="card">
    </div>
</section>

<script type="module" src="state.js"></script>
<script type="module" src="ui.js"></script>
</body>
</html>
